<article [class.has-thumbnail]="collection._thumbnail != empty" [style.background-color]="'#'+collection.color" class="card create-collection">
    <form (ngSubmit)="onCollectionSubmit()">
        <div *ngIf="collection._thumbnail" class="card-thumbnail thumbnail">
            <img [src]="collection._thumbnail?.getPath('original')" />
        </div>
        <!-- <div class="card-color"></div> -->
        <div class="card-container">
            <div class="card-content">
                <input
                    (focus)="onCollectionFocus()"
                    [(ngModel)]="collection.title"
                    class="input-card-title card-title" type="text" placeholder="Create a collection..." required/>
                <textarea
                    (focus)="onCollectionFocus()"
                    [(ngModel)]="collection.bio"
                    class="input-card-caption card-caption" name="" id="" placeholder="Enter a caption here to describe the collection...">
                </textarea>
                <div class="btn-group">
                    <button [class.collapse]="!actionIntent" type="button" class="card-visibily dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="material-icons">remove_red_eye</i> Visibility: {{collection.visibility.desc}}
                    </button>
                    <div class="dropdown-menu">
                        <h6 class="dropdown-header">Who should see this?</h6>
                        <a (click)="collection.visibility=visibilityList.PRIVATE" class="dropdown-item">
                            <span>Only me</span>
                            <small>Only me</small>
                        </a>
                        <a (click)="collection.visibility=visibilityList.PUBLIC" class="dropdown-item">
                            <span>Public</span>
                            <small>Anyone can see this</small>
                        </a>
                        <a (click)="collection.visibility=visibilityList.UNINDEXED" class="dropdown-item">
                            <span>Unindexed</span>
                            <small>People with the link</small>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div [class.collapse]="!actionIntent" class="card-create">
            <div class="card-actions form-inline">
                <div class="btn-group form-action dropup">
                    <button type="button" class="btn-icon" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="material-icons icon">palette</i>
                    </button>
                    <div class="dropdown-menu dropdown-menu-color">
                        <!-- <h6 class="dropdown-header">Edit the color</h6> -->
                        <a
                            (click)="clickColor('CFD8DC')"
                            [class.selected]="collection.color=='CFD8DC'"
                            class="dropdown-item-color collection-color-grey"
                        >
                            Grey
                        </a>
                        <a
                            (click)="clickColor('FF887A')"
                            [class.selected]="collection.color=='FF887A'"
                            class="dropdown-item-color collection-color-red"
                        >
                            Red
                        </a>
                        <a
                            (click)="clickColor('FFD373')"
                            [class.selected]="collection.color=='FFD373'"
                            class="dropdown-item-color collection-color-orange"
                        >
                            Orange
                        </a>
                        <a
                            (click)="clickColor('FFFF7C')"
                            [class.selected]="collection.color=='FFFF7C'"
                            class="dropdown-item-color collection-color-yellow"
                        >
                            Yellow
                        </a>
                        <a
                            (click)="clickColor('A4ABFF')"
                            [class.selected]="collection.color=='A4ABFF'"
                            class="dropdown-item-color collection-color-purple"
                        >
                            Purple
                        </a>
                        <a
                            (click)="clickColor('78D6FF')"
                            [class.selected]="collection.color=='78D6FF'"
                            class="dropdown-item-color collection-color-blue"
                        >
                            Blue
                        </a>
                        <a
                            (click)="clickColor('A4FFEB')"
                            [class.selected]="collection.color=='A4FFEB'"
                            class="dropdown-item-color collection-color-cyan"
                        >
                            Cyan
                        </a>
                        <a
                            (click)="clickColor('CBFF8A')"
                            [class.selected]="collection.color=='CBFF8A'"
                            class="dropdown-item-color collection-color-green"
                        >
                            Green
                        </a>
                    </div>
                </div>

                <label class="file form-action">
                    <input (change)="onThumbnailFileChange($event)" [uploader]="uploader" ng2FileSelect type="file">
                    <span class="btn-icon material-icons icon">
                        photo
                    </span>
                </label>

                <button *ngIf="mode == 'CREATE'" class="btn btn-create pull-xs-right" type="submit">
                    Create
                </button>
                <button *ngIf="mode == 'UPDATE'" class="btn btn-create pull-xs-right" type="submit">
                    Update
                </button>
                <a *ngIf="mode == 'UPDATE'" (click)="cancelCollectionUpdate()" class="btn btn-create pull-xs-right">
                    Cancel
                </a>
            </div>
        </div>
    </form>
</article>
